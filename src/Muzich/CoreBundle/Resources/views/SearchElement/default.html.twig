
{% if elements|length %}
  {% if not app.request.isXmlHttpRequest %}<ul class="elements">{% endif %}
    {% for element in elements %} 
      <li class="element 

{% if loop.index0 is even %}
  {% if invertcolor is not defined %}
    even
  {% elseif invertcolor %}
    odd
  {% else %}
    even
  {% endif %}
{% else %}
  {% if invertcolor is not defined %}
    odd
  {% elseif invertcolor %}
    even
  {% else %}
    odd
  {% endif %}
{% endif %}" id="element_{{ element.id }}">
             
        {% if element.getCountFavorite %}
          <a class="favorite_link" href="{{ path('favorite_remove', { 'id': element.id, 'token': user.personalHash }) }}" >
            <img src="{{ asset('bundles/muzichcore/img/favorite.png') }}" title="{{ 'element.favorite.remove'|trans({}, 'elements') }}" alt="{{ 'element.favorite.remove'|trans({}, 'elements') }}"/>
          </a>
        {% else %}
          <a class="favorite_link" href="{{ path('favorite_add', { 'id': element.id, 'token': user.personalHash }) }}" >
            <img src="{{ asset('bundles/muzichcore/img/favorite_bw.png') }}" title="{{ 'element.favorite.add'|trans({}, 'elements') }}" alt="{{ 'element.favorite.add'|trans({}, 'elements') }}" />
          </a>
        {% endif %}
        
        <span class="element_name">
          {{ element.name }}
        </span> 
        
        {% autoescape false %}
          {% if element.group and no_group_name is not defined%}
            {{ 'element.name.whoandgroup'|trans({
              '%owner_url%'  : path('show_user', {'slug': element.owner.slug}),
              '%owner_name%' : element.owner.name,
              '%group_url%'  : path('show_group', {'slug': element.group.slug}),
              '%group_name%' : element.group.name
            }, 'elements') }}
          {% else %}
            {{ 'element.name.who'|trans({
              '%owner_url%'  : path('show_user', {'slug': element.owner.slug}),
              '%owner_name%' : element.owner.name
            }, 'elements') }}
          {% endif %}
        {% endautoescape %}
        
        
        <a title="{{ 'element.link'|trans({}, 'elements') }}" class="element_link" href="{{ element.url }}" target="_blank">
          <img src="{{ asset('bundles/muzichcore/img/1324917097_link.png') }}" alt="link" />
        </a>
          
        {% if app.user.id == element.owner.id %}
          <a title="{{ 'element.edit.link'|trans({}, 'elements') }}" class="element_edit_link" 
             href="{{ path('element_edit', {'element_id' : element.id})  }}" style="display: none;"
          >
            <img src="{{ asset('bundles/muzichcore/img/1327151338_desktop.png') }}" alt="edit" />
          </a>
        {% endif %}
            
        {% if element.embed %}
          {% autoescape false %}
            <div id="embed_{{ element.id }}" class="element_embed" style="display: none;">
              {{ element.embed }}
            </div>
          {% endautoescape %}
        {% endif %}
        
        <div>

          {% if element.embed %}
            <a href="#" class="element_open element_embed_close_link" style="display: none;">
              {{ 'element.show.close_embed'|trans({}, 'elements') }}
            </a>
            <a href="#" class="element_open element_embed_open_link">
              {{ 'element.show.open_embed'|trans({}, 'elements') }}
            </a>
          {% else %}
            <a href="{{ element.url }}" class="element_open" target="_blank">
              {{ 'element.show.open_link'|trans({}, 'elements') }}
            </a>
          {% endif %}
        
          {% if element.tags|length %}
          <ul class="element_tags">
            {% for tag in element.tags %} 
              <li class="element_tag">
                {{ tag.name }}
              </li>
            {% endfor %} 
          </ul>
          {% else %}
          <br />
          {% endif %}
          
        </div>

      </li>
    {% endfor %} 
  {% if not app.request.isXmlHttpRequest %}</ul>{% endif %}

{% else %}

  <ul class="elements"></ul>

  <div class="no_elements">
    {% if noelements_filter is defined %}
      <p class="no-elements">
        {% autoescape false %}
          {{ 'noelements.sentence_filter'|trans({
            '%link_string%': 'noelements.sentence_filter_link_string'|trans({}, 'elements')
          }, 'elements') }}
        {% endautoescape %}
      </p>
    {% else %}
      <p class="no-elements">{{ 'noelements.sentence'|trans({}, 'elements') }}</p>
    {% endif %}
  </div>

{% endif %}