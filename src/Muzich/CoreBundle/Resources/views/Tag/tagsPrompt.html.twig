

<div class="tags_prompt" id="tags_prompt_{{ form_name }}">
    
  {% if display_specials_buttons is defined %}
    {% if display_specials_buttons == true %}
      <input class="clear button" type="button" value="{{ 'filter.clear'|trans({}, 'userui') }}" />
      <input type="hidden" class="filter_clear_url" value="{{ path('filter_clear') }}" />
      <input class="mytags button" type="button" value="{{ 'filter.mytags'|trans({}, 'userui') }}" />
      <input type="hidden" class="filter_mytags_url" value="{{ path('filter_mytags') }}" />
    {% endif %}
  {% endif %}
  
  <input
    class="tag_prompt"
    value=""
    placeholder="{{ 'tags.inputtext.help'|trans({}, 'userui') }}"
  />
  <img id="tag_prompt_loader_{{ form_name }}" class="tag_loader" style="display: none;"
    src="{{ asset('/bundles/muzichcore/img/ajax-loader.gif') }}" alt="loading"/>
   
  <div id="search_tag_{{ form_name }}" class="search_tag_list" style="display: none;">
    <span class="info"></span>
    <div class="tag_loader_div">
      <img id="tag_loader_{{ form_name }}" class="tag_loader" style="display: none;"
        src="{{ asset('/bundles/muzichcore/img/ajax-loader.gif') }}" alt="loading"/>
    </div>
    <ul class="search_tag_list"></ul>
    <a class="more button" href="#" style="display: none;">
      {{ 'tags.search.display_more'|trans({}, 'userui') }}
    </a>
  </div>
  
  <ul class="tagbox"></ul>
  
</div>

<script language="javascript" type="text/javascript">
  $(document).ready(function(){
    
    $('form[name="{{ form_name }}"] input.tag_prompt').val('');
    
    window.{{ form_name }}_tag_prompt_connector = new TagPromptConnector(
      $('form[name="{{ form_name }}"] input.tag_prompt'),
      $('form[name="{{ form_name }}"] input.tagBox_tags_ids'),
      $('form[name="{{ form_name }}"] div.search_tag_list'),
      $('form[name="{{ form_name }}"] ul.tagbox'),
      $('#tag_prompt_loader_{{ form_name }}')
    );
    
    var {{ form_name }}_taginit = new Array();
    {% if search_tags is defined %}
      {% for tid, tname in search_tags %}
        {{ form_name }}_taginit[{{ loop.index0 }}] = {"id":"{{ tid }}", "name":"{{ tname }}"};
      {% endfor %}
    {% endif %}
    
    window.{{ form_name }}_tag_prompt_connector.initializeTags({{ form_name }}_taginit);
  
  });
</script>