

<div class="tags_prompt" id="tags_prompt_{{ form_name }}">
   
  
  <ul class="tagbox"></ul>
  
  <input
    class="tag_prompt niceinput"
    value=""
    placeholder="{{ 'tags.inputtext.help'|trans({}, 'userui') }}"
  />
  <img id="tag_prompt_loader_{{ form_name }}" class="tag_loader" style="display: none;"
    src="{{ asset('/bundles/muzichcore/img/ajax-loader.gif') }}" alt="loading"/>
  
  <div id="search_tag_{{ form_name }}" class="search_tag_list" style="display: none;">
    <span class="info"></span>
    <p class="help">
      {{ 'tags.prompt.help'|trans({}, 'userui') }}
    </p>
    <div class="tag_loader_div">
      <img id="tag_loader_{{ form_name }}" class="tag_loader" style="display: none;"
        src="{{ asset('/bundles/muzichcore/img/ajax-loader.gif') }}" alt="loading"/>
    </div>
    <ul class="search_tag_list"></ul>
    <div class="textcenter">
      <a class="more button" href="#" style="display: none;">
        {{ 'tags.search.display_more'|trans({}, 'userui') }}
      </a>
    </div>
  </div>
  
</div>

<script language="javascript" type="text/javascript">
  $(document).ready(function(){
    
    window.{{ form_name }}_tag_prompt_connector = new TagPromptConnector(
      $('form[name="{{ form_name }}"] input.tag_prompt'),
      $('form[name="{{ form_name }}"] input.tagBox_tags_ids'),
      $('form[name="{{ form_name }}"] div.search_tag_list'),
      $('form[name="{{ form_name }}"] ul.tagbox'),
      $('#tag_prompt_loader_{{ form_name }}')
    );
    
    var {{ form_name }}_taginit = new Array();
    {% if search_tags is defined %}
      {% for tid, tname in search_tags %}
        {{ form_name }}_taginit[{{ loop.index0 }}] = {"id":"{{ tid }}", "name":"{{ tname }}"};
      {% endfor %}
    {% endif %}
    
    window.{{ form_name }}_tag_prompt_connector.initializeTags({{ form_name }}_taginit);
  
  });
</script>