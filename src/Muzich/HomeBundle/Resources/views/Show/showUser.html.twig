{% extends "MuzichHomeBundle::layout.html.twig" %}

{% block title %}{{ viewed_user.name }}{% endblock %}

{% block content %}

  <!--<span class="follow_link following">
    
    <a href="{{ path('favorite_user_list', {'slug' : viewed_user.slug}) }}" >
      {{ 'user.view_favorites'|trans({}, 'users') }}
    </a>
    | 
        
    
  </span>-->

  <div class="show_options">
    
    <a class="button" href="{{ path('favorite_user_list', {'slug' : viewed_user.slug}) }}" >
      {{ 'user.view_favorites'|trans({}, 'users') }}
    </a>
    
    {% if app.user.id != viewed_user.id %}
      <a href="{{ path('follow', { 'type': 'user', 'id': viewed_user.id, 'token': user.personalHash }) }}" 
         class="follow_link button {% if following %}following{% else %}notfollowing{% endif %}" >
        {% if following %}
          {{ 'user.following'|trans({}, 'users') }}
        {% else %}
          {{ 'user.follow'|trans({}, 'users') }}
        {% endif %}
      </a>
    {% endif %}
    
  </div>
  

  <h2>{{ 'user.show.title'|trans({'%name%' : viewed_user.name}, 'users') }}</h2>
  
  
  {% include "MuzichCoreBundle:SearchElement:default.html.twig" %}
    
  <div class="elements_loader_div">
    <img class="elements_more_loader" style="display: none;" src="{{ asset('/bundles/muzichcore/img/ajax-loader.gif') }}" alt="loading" />
  </div>
  
  {% if more_count is defined %} 
  {% if elements|length %}
   <span class="elements_more">
     <a href="{{ path('search_elements_show_more_empty', {
       'type'     : 'user', 
       'object_id': viewed_user.id
     }) }}" class="elements_more" >
       {{ 'more'|trans({}, 'userui') }}
     </a>
   </span>
  {% endif %}
  {% endif %}
  
{% endblock %}